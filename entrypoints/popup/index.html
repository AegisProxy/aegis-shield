<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="defaultTitle" content="Aegis Shield - PII Scrubber" />
  <title>Aegis Shield</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body class="bg-background text-foreground font-sans antialiased min-w-[380px] min-h-[440px]">
  <div class="flex flex-col gap-5 p-5">
    <header class="flex flex-col gap-1.5 border-b border-border pb-4">
      <h1 class="text-lg font-semibold tracking-tight">Aegis Shield</h1>
      <p class="text-sm text-muted-foreground">Scrub PII before AI, or restore after pasting the response</p>
    </header>
    <main class="flex flex-col gap-4">
      <textarea
        id="input"
        placeholder="Paste prompt to scrub, or AI response with [EMAIL], [PHONE] to restore"
        class="min-h-[140px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-y"
      ></textarea>
      <div id="results" class="flex flex-col gap-3 rounded-lg border border-border bg-card p-4 hidden">
        <div id="warnings" class="flex flex-col gap-2"></div>
        <div class="flex gap-2">
          <button
            id="copy"
            type="button"
            class="inline-flex flex-1 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 transition-colors"
          >
            Copy scrubbed text
          </button>
          <button
            id="restore"
            type="button"
            class="inline-flex flex-1 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 transition-colors"
          >
            Restore PII
          </button>
        </div>
      </div>
      <div id="empty" class="flex items-center justify-center py-8 text-sm text-muted-foreground">
        Paste or type your prompt above
      </div>
      <section class="mt-2 border-t border-border pt-3">
        <h2 class="text-xs font-medium uppercase tracking-wide text-muted-foreground mb-2">Keyboard shortcuts</h2>
        <div id="shortcuts" class="space-y-1.5 text-sm text-muted-foreground">
          <div class="flex justify-between gap-2">
            <span>Scrub clipboard</span>
            <kbd id="shortcut-scrub" class="rounded border border-border bg-muted px-2 py-0.5 font-mono text-xs">—</kbd>
          </div>
          <div class="flex justify-between gap-2">
            <span>Restore PII in clipboard</span>
            <kbd id="shortcut-restore" class="rounded border border-border bg-muted px-2 py-0.5 font-mono text-xs">—</kbd>
          </div>
          <a href="#" id="shortcuts-link" class="text-xs text-primary hover:underline">Customize in extension shortcuts</a>
        </div>
      </section>
    </main>
  </div>
  <script type="module" src="./main.ts"></script>
</body>
</html>
